# Как создать расчётное поле

## Создаём расчётное поле

Чтобы провести вычисления с числами, их напрямую прописывают в `SELECT`. Но часто вычисления нужно сделать для всего поля таблицы. Тогда создают новое поле, в котором отображается результат вычислений. Такое поле называют **вычисляемым** или **расчётным**.
братимся к таблице с клиентами. Выведем на экран первые десять записей таблицы, используя только поля `last_name` и `percen_of_discount`.


```
SELECT last_name,
       percent_of_discount
FROM buyer;
LIMIT 10; 
```

Скидка указана в процентах, но отдел маркетинга попросил, чтобы в итоговой таблице её указали в долях. Для этого разделим процент скидки на сто.

В запросе мы ещё раз указываем поле с процентом скидки, делим его на 100 и присваиваем псевдоним `discount`.

Скопировать кодSQL

```
SELECT last_name,
       percent_of_discount,
       percent_of_discount/100.0 AS discount
FROM buyer;
LIMIT 10; 
```

Если не указать псевдоним, новое поле будет называться `?column?`. Такое название звучит непонятно, поэтому используют псевдонимы.

## Расчёты с разными типами данных

Проводя вычисления, важно помнить про тип данных, которые содержит поле. Вычисления можно проводить только с целочисленными или дробными типами данных. Если попытаться провести математическую операцию, например, с текстовой строкой, это приведёт к ошибке.

❗ В PostgreSQL есть особенность, связанная с делением. Если поделить один целочисленный тип на другой, мы получим частное без остатка.

Например, код

Скопировать кодSQL

```
SELECT 7/2 
```

вернёт результат `3`.

Один из элементов деления обязательно должен быть дробным типом, чтобы всё прошло как надо. Именно поэтому в запросе выше написано `100.0`, а не `100`. Остальные математические операции в PostgreSQL выполняются как обычно.

Еще можно иногда заметить вот такой вариант деления:

Скопировать кодSQL

```
SELECT 7::numeric/2 
```

После делителя или делимого добавляют сочетание слов `::numeric`. Так мы говорим программе, что это дробное число, и деление выполнится с остатком.

Стандартные операторы для математических операций выглядят так:

- `+` — сложение;
- `-` — вычитание;
- `*` — умножение;
- `/` — деление.